name: cx-mini

mgmt:
  ipv4-subnet: 172.20.20.0/24   # Containerlabの管理ネット

topology:
  nodes:
    cx1:
      kind: aruba_aoscx
      image: vrnetlab/aruba_arubaos-cx:10.16.1006   # ← あなたが作った “-hda” タグ
      mgmt-ipv4: 172.20.20.11
      startup-config: https://raw.githubusercontent.com/Tsugiyama-cat/vlab_CX_test/main/configs/cx1.cfg
   # 起動後に適用される最小コンフィグ

    client1:
      kind: linux
      image: ghcr.io/srl-labs/network-multitool:latest
      mgmt-ipv4: 172.20.20.21
      cmd: |
        ip link set eth1 up
        ip addr add 192.168.10.10/24 dev eth1
        ip route add default via 192.168.10.1

  links:
    - endpoints: ["cx1:1/1/3", "client1:eth1"]  # vethで直結（CXの1/1/3とclientのeth1）
